# InfisicalSecret for Synology CSI client credentials in storage namespace
---
apiVersion: secrets.infisical.com/v1alpha1
kind: InfisicalSecret
metadata:
  name: synology-csi-infisical
  namespace: storage
spec:
  resyncInterval: 60
  authentication:
    universalAuth:
      secretsScope:
        projectSlug: "homelab-0r-b1"
        envSlug: "prod"
        secretsPath: "/"
        recursive: true
      credentialsRef:
        secretName: "universal-auth-credentials"
        secretNamespace: "kube-system"
  managedSecretReference:
    secretName: "client-info-secret"
    secretNamespace: "storage"
    creationPolicy: "Orphan"
    template:
      includeAllSecrets: false
      data:
        client-info.yml: "{{ .SYNOLOGY_CSI_CLIENT_INFO.Value }}"
